---
import type { Species } from '../lib/species';

interface Props {
  species: Species;
  size?: 'small' | 'large';
  disabled?: boolean;
  selected?: boolean;
}

const {
  species,
  size = 'large',
  disabled = false,
  selected = false,
} = Astro.props;

const sizeClasses = size === 'small' ? 'p-4 text-center' : 'p-6 text-center';

const emojiSize = size === 'small' ? 'text-4xl' : 'text-6xl';
const titleSize = size === 'small' ? 'text-lg' : 'text-2xl';
const descriptionSize = size === 'small' ? 'text-xs' : 'text-sm';

const baseClasses = `
  character-card 
  bg-gradient-to-b ${species.gradient} 
  rounded-xl ${sizeClasses} 
  cursor-pointer 
  transform 
  transition-all 
  hover:scale-105 
  hover:shadow-xl
  ${species.hoverGradient}
`;

const disabledClasses = disabled
  ? 'opacity-50 cursor-not-allowed hover:scale-100'
  : '';

const selectedClasses = selected ? 'ring-4 ring-white ring-opacity-80' : '';
---

<div
  class={`${baseClasses} ${disabledClasses} ${selectedClasses}`}
  data-species={species.id}
>
  <div class={`${emojiSize} mb-2`}>{species.emoji}</div>
  <h3 class={`${titleSize} font-bold text-white mb-2`}>{species.name}</h3>
  {
    !disabled && (
      <p class={`text-amber-100 ${descriptionSize}`}>{species.description}</p>
    )
  }
  {disabled && <p class={`text-gray-300 ${descriptionSize}`}>Already chosen</p>}
</div>
